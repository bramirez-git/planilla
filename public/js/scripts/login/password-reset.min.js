$(document).ready(function(){grecaptcha.ready(function(){SetCaptchaToken("passwordReset");setInterval(function(){SetCaptchaToken("passwordReset")},2*60*1e3)});$("#new_password").on("input",function(){var password=$(this).val();validatePassword(password)});function validatePassword(password){var isValidLength=password.length>=8;toggleValidationStatus("validation-length",isValidLength);var hasUppercase=/[A-Z]/.test(password);toggleValidationStatus("validation-uppercase",hasUppercase);var hasLowercase=/[a-z]/.test(password);toggleValidationStatus("validation-lowercase",hasLowercase);var hasSpecialChar=/[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]/.test(password);toggleValidationStatus("validation-special",hasSpecialChar);var hasNumber=/\d/.test(password);toggleValidationStatus("validation-number",hasNumber)}function toggleValidationStatus(validationId,isValid){var $validationElement=$("#"+validationId);var $iconElement=$validationElement.find(".indicatorResponsive i");$validationElement.toggleClass("valid-criteria",isValid).toggleClass("invalid-criteria",!isValid);$iconElement.toggleClass("fa-check btn-text-green",isValid).toggleClass("fa-xmark btn-text-red",!isValid)}$("#frm-password-reset").validate({errorElement:"div",errorClass:"help-block",focusInvalid:false,rules:{confirm_new_password:{required:true,equalTo:"#new_password"},password:{required:true}},messages:{confirm_new_password:{required:"Por favor, confirme su contraseña.",equalTo:"Las contraseñas no coinciden."},password:{required:"Por favor, confirme su contraseña temporal."}},errorPlacement:function(error,element){if(element.hasClass("form-control")){error.insertAfter(element.closest(".input-floating-label"))}else{error.insertAfter(element)}}});$("#reset").on("click",function(evt){event.preventDefault();if($("#frm-password-reset").valid()&&isFormValid()){waitingDialog.show();$("#frm-password-reset").submit()}else{return false}});function isFormValid(){var allCriteriaValid=$(".valid-criteria").length===$(".indicatorResponsive").length;return allCriteriaValid}});